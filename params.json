{
  "name": "d3",
  "tagline": "Soon to be opensourced Mac package management/deployment tool based on the Casper Suite. (This description will be updated before release)",
  "body": "\r\n## Welcome\r\n\r\n* [What is d3?](#what-is-d3)\r\n* [History](#history)\r\n* [Installing d3](#installing-d3)\r\n* [Basic vocabulary](#basic-vocabulary)\r\n  * [Basename](#basename)\r\n  * [Version](#version)\r\n  * [Revision](#revision)\r\n  * [Edition](#edition)\r\n  * [Package](#package)\r\n  * [Receipt](#receipt)\r\n  * [Status](#status)\r\n  * [Puppytime!](#puppytime)\r\n* [Documentation](#documentation)\r\n* [License](#license)\r\n\r\n\r\n## What is d3?\r\n\r\nd3 is a package deployment and patch management system for OS X that enhances the \r\nCasper Suite from [JAMF Software LLC](http://www.jamfsoftware.com/). It was created by Pixar Animation Studios.\r\n\r\nd3 adds these capabilities and more to Casper's package handling:\r\n\r\n* Automatic software updates on clients when new versions are released on the server\r\n* Pre-release piloting of new packages\r\n* Customizable slideshow presented during logout/reboot installs\r\n* Installs and uninstalls are conditional on the exit status of pre-flight scripts\r\n* Packages can be expired (auto-uninstalled) after a period of disuse\r\n* Both the client and admin tools are command-line only and fully scriptable\r\n* Admin command-line options allow integration with developer workflows and package-retrieval tools\r\n\r\nd3 is written in Ruby and available as a [github project](https://github.com/PixarAnimationStudios/depot3) and a [Ruby gem](https://rubygems.org/gems/depot3/) called 'depot3'. It interfaces with Casper mostly via it's REST API using the [JSS Ruby module](https://github.com/PixarAnimationStudios/ruby-jss). It also accesses the JSS's backend MySQL database directly to provide enhanced features.\r\n\r\n##### What d3 isn't\r\n\r\nd3 makes no attempt to automatically search and retrieve newly-available patches or updates from the internet. It works with packages you provide or create (d3 can build them for you!)\r\n\r\nAn eventual goal is to integrate a tool like [AutoPkg](https://autopkg.github.io/autopkg/) for this purpose.\r\n\r\nd3 will not work with Cloud instances of the JSS. It requires MySQL access to the JSS database. \r\n\r\nIt also requires that the the master distribution point be a regular fileshare distribution point, not a JDS.  There is minimal support for a cloud-based distribution point for failover access to package installers (the Casper REST API has no access to cloud distribution point data)\r\n\r\nd3 was written for Pixar's environment, which is very simple in comparison with what many other Casper user's have.  That said, part of the reason we've made it open-source is with the hopes that others will be able to improve it, making it useful for a wider range of Casper users.\r\n\r\n[(top)](#welcome)\r\n\r\n\r\n## History\r\n\r\n#### depot and d2\r\nNearly 30 years ago, Pixar's original NFS-based software deployment system for Unix workstations was called \"depot\". When it had outgrown itself, a replacement based on RPM packages was created and called \"depot2\", or \"d2\" for short. When Mac OS X arrived at Pixar in 2002, the Mac team adopted many of the Linux team's existing tools, including d2. \r\n\r\n#### PuppyTime!\r\nd2 was useful as far it went, but Macs aren't Linux, and d2 couldn't handle the installation of .pkg's, especially those requiring a reboot. To deal with those, Pixar's Mac team created PuppyTime! - a system that could install .pkgs from a server, and if they needed a reboot, would queue them to be installed at the next logout. \r\n\r\nDuring logout installation, something had to be displayed on the screen, or the users would think the machine was crashed, and might force-reboot.  So puppytime would display a slideshow of cute puppies to let the users know what was up, and placate their mood.\r\n\r\n#### d3\r\nBy 2008 the original developer of d2 had left, and d2's sustainability for the Macs was waning. Also, the world of Mac Sys Admins was changing to become what it is today. In 2009 the Pixar Mac team starting looking at third-party tools that might replace d2.  \r\n\r\nNothing seemed to be an exact fit for our needs, but the Casper Suite from JAMF Software seemed promising, and offered other tools very similar to our own home-grown Mac infrastructure. We realized that with a little customization, Casper could provide the features we wanted.  The first version of d3 was created in 2010 to add those features. \r\n\r\nThe second version of d3, which utilised the newly-released Casper REST API, was presented at the 2012 JAMF Nation User Conference in Minneapolis. One of the first questions from the audience was \"Is it open-sourced?\", to which we had to say no. \r\n\r\n#### open-source\r\nSince then, work has been progressing on the third version of d3 with a goal of enhancing its features and refactoring the code-base for eventual open-source release. The first step towards that goal was the 2014 release of the [JSS ruby module](https://github.com/PixarAnimationStudios/ruby-jss), which provides extensive access to the Casper REST API. \r\n\r\nThe JSS module was created specifically as the API connection for d3, but has become useful in it's own right for all of our access to the API. d3 itself took another 18 months before the first upload to [github](https://github.com/PixarAnimationStudios/depot3).\r\n\r\n[(top)](#welcome)\r\n\r\n\r\n## Installing d3\r\n\r\nTo start using d3 with your JSS Take a look at the [Setup Guide](https://github.com/PixarAnimationStudios/depot3/wiki/Setup)\r\n\r\n[(top)](#welcome)\r\n\r\n## Basic Vocabulary\r\n\r\nThe following terms are fundamental to understanding any discussion of d3.\r\n\r\n### Basename\r\n\r\nA basename in d3 is a word used to identify all packages that install any version of the same thing. Every package has a basename, and will share it with other packages that install the same thing. For example \"transmogrifier\" could refer to all packages in d3 that install any version of Transmogrifier.app. \r\n\r\nWhen a basename alone is used to specify a package, it always refers to the currently live package ([see Status below)](#status) for the basename. \r\n\r\n[(top)](#welcome)\r\n\r\n\r\n### Version\r\n\r\nEvery package also has a version, which is the version of the thing installed by the package. A package that installs Transmogrifier might install version 2.1.2, while another package that installs Transmogrifier might install version 2.2.3. Versions can include any alpha-numeric characters, e.g. \"12.5a3\", but they can't include spaces, which will be converted to underscores.\r\n\r\n[(top)](#welcome)\r\n\r\n\r\n### Revision\r\n\r\nA package's revision is an integer representing how many times a single version of a basename has been added to d3. \r\n\r\nWhen Transmogrifier 2.2.3 is added to d3 for the first time, it's revision will be 1.  Later, a problem may be discovered with the .pkg itself, and a new .pkg for version 2.2.3 might be created. When added to d3, the fixed .pkg will have revision 2.\r\n\r\n[(top)](#welcome)\r\n\r\n### Edition\r\n\r\nThe edition is a combination of basename, version, and revision of a package, joined by hyphens. It is a unique identifier for each package in d3.\r\n\r\nFor example, there might be three editions of the basename 'transmogrifier' in d3 at the same time:  transmogrifier-2.1.2-1, transmogrifier-2.1.2-2, and transmogrifier-2.2.3-1. When specifying any package that isn't live ([see #Status below)](#status), the edition is used to identify it.\r\n\r\nOnly one edition of a basename can be installed at a time.\r\n\r\n[(top)](#welcome)\r\n\r\n### Package\r\n\r\nA package in d3 is a package in Casper. It can be used as any other package in Casper, in policies and Casper Remote (but be careful with that!). When a package is added to d3 (possibly by importing from an existing Casper package), extra data about it is stored in the JSS, which allows for d3's enhanced features. \r\n\r\n[(top)](#welcome)\r\n\r\n### Receipt\r\n\r\nA receipt is the on-disk representation of a d3 Package installed onto a client computer. Receipts have basenames, editions, and status, just like packages. Only one receipt per basename can be installed at a time. d3 receipts are stored separately from JAMF receipts and Apple .pkg receipts.\r\n\r\n[(top)](#welcome)\r\n\r\n### Status\r\n\r\nAs a package spends time in d3, its status will change. Here are the statuses and a brief description of each. Receipts update their status from their matching package at every sync. For details about the signifigance of each status, see the full discussion of [packages](https://github.com/PixarAnimationStudios/depot3/wiki/Packages) and [receipts](https://github.com/PixarAnimationStudios/depot3/wiki/Receipts).\r\n\r\n[(top)](#welcome)\r\n\r\n##### pilot\r\n\r\nWhen a package is first added to d3, it's considered to be 'in pilot'. Pilot packages are not yet approved for general deployment, but can be manually installed (i.e. '[piloted](https://github.com/PixarAnimationStudios/depot3/wiki/Client#piloting)') on individual machines for testing purposes.\r\n\r\n##### live\r\n\r\nOnce a package has been piloted and is ready for general deployment, it is released by making it 'live'.\r\n  \r\nThere can only be one live package per [basename](#basename) at a time, and using a basename to refer to a package will always yield the currently live one (if any). \r\n\r\n##### deprecated\r\n\r\nA package that was once live, but has been superceded by a newer edition of it's basename being made live.\r\n\r\n##### skipped\r\n\r\nA package that is older than the currently live one for its basename, but was never made live itself. \r\n  \r\n##### missing\r\n\r\nA package that is still listed in d3, but has been removed from Casper.  Or, a [receipt](https://github.com/PixarAnimationStudios/depot3/wiki/Receipts) who's the matching package has status 'missing', or no longer exists in d3.\r\n\r\n[(top)](#welcome)\r\n\r\n### PuppyTime!\r\n\r\nSome packages require a reboot, so auto-installing them can be problematic. \r\n\r\nWhen d3 installs a package that needs a reboot, it doesn't actually install it, but adds its edition to the \"puppy queue\" - a list of packages awaiting logout before they are installed.\r\n\r\nWhen a package is added to the puppy queue, a policy is potentially triggered which can notify the user to log out as soon as possible.\r\n\r\nWhen logout happens, a logout policy is execute which runs `puppytime`.\r\n\r\nPuppytime examines the queue, and installs any packages listed. While doing so, it displays a slideshow - originally of cute puppies - to let the user know the machine isn't hung.\r\n\r\nThe default images that come with d3 are still puppies, but you can use any images you'd like.\r\n\r\nWhen the installs are complete, puppytime will either:\r\n\r\n- reboot the machine with `shutdown -r now`\r\n\r\nor\r\n\r\n- run a policy which will reboot the machine (and possibly do other things first)\r\n\r\n[(top)](#welcome)\r\n\r\n## Documentation\r\n\r\nThe [GitHub project wiki](https://github.com/PixarAnimationStudios/depot3/wiki) has the full documentation for Casper administrators who want to use d3.\r\n\r\nThe Ruby module documentation for both [d3](http://www.rubydoc.info/gems/depot3), and [ruby-jss](http://www.rubydoc.info/gems/ruby-jss) are available for developers who wish to contribute, or just use the modules for their own projects.\r\n\r\n[(top)](#welcome)\r\n\r\n## License\r\n\r\nCopyright 2016 Pixar\r\n\r\nLicensed under the Apache License, Version 2.0 (the \"Apache License\")\r\nwith the following modification; you may not use this file except in\r\ncompliance with the Apache License and the following modification to it:\r\n\r\nSection 6. Trademarks. is deleted and replaced with:\r\n\r\n  6\\. Trademarks. This License does not grant permission to use the trade\r\n  names, trademarks, service marks, or product names of the Licensor\r\n  and its affiliates, except as required to comply with Section 4(c) of\r\n  the License and to reproduce the content of the NOTICE file.\r\n\r\nYou may obtain a copy of the Apache License at\r\n\r\n   [http://www.apache.org/licenses/LICENSE-2.0](http://www.apache.org/licenses/LICENSE-2.0)\r\n\r\nUnless required by applicable law or agreed to in writing, software\r\ndistributed under the Apache License with the above modification is\r\ndistributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, either express or implied. See the Apache License for the specific\r\nlanguage governing permissions and limitations under the Apache License.\r\n\r\n[(top)](#welcome)\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}